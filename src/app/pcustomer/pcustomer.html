<div class="pcustomer-container">

  <!-- TOP BAR -->
  <div class="top-bar">
    <input type="text" class="search-input" placeholder="Search by Name / Mobile / City" [(ngModel)]="searchTerm"
      (input)="searchCustomer()" />

    <button class="add-btn" type="button" (click)="openModal()">
      + Add Customer
    </button>
  </div>

  <!-- CUSTOMER TABLE -->
  <div class="table-wrapper" >
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Mobile</th>
          <th>City</th>
          <th>Created</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let c of filteredCustomers; let i = index" class="row-click"     (click)="openProfile(c.personalCustomerRecordTranId)">
          <td>{{ i + 1 }}</td>
          <td>{{ c.name }}</td>
          <td>{{ c.mobile }}</td>
          <td>{{ c.city || '-' }}</td>
          <td>{{ c.createdAt | date:'dd MMM yyyy' }}</td>
        </tr>


        <tr *ngIf="filteredCustomers.length === 0">
          <td colspan="5" class="no-data">No customer found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- ================= MODAL ================= -->
<div class="modal-overlay" *ngIf="showModal">
  <div class="modal-box">

    <h2>Add Personal Customer</h2>

    <div class="form-group">
      <label>Name</label>
      <input type="text" [(ngModel)]="customer.name" />
    </div>

    <div class="form-group">
      <label>Mobile</label>
      <input type="text" maxlength="10" [(ngModel)]="customer.mobile" />
    </div>

    <div class="form-group">
      <label>City</label>
      <input type="text" [(ngModel)]="customer.city" />
    </div>

    <div class="modal-actions">
      <button class="save-btn" (click)="addCustomer()">Save</button>
      <button class="cancel-btn" (click)="closeModal()">Cancel</button>
    </div>

  </div>
</div>